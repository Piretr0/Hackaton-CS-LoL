<div class="containerToDo" style="margin-left: 100px;">


  <svg width="1009" height="432" viewBox="0 0 1009 432">
    <g class="parent">
        <g>
            <g transform="translate(244 81)">
                <path class="bracket-line" d="M 228 1 L 236 1 L 236 108"></path>
            </g>
            <g transform="translate(244 189)" class="bracket-line-container">
                <path d="M 228 107 L 236 107 L 236 1 L 244 1" class="bracket-line" data-line-length="122"></path>
            </g><g transform="translate(0 243)" class="bracket-line-container">
                <path d="M 228 1 L 236 1 L 236 54" class="bracket-line" data-line-length="68"></path>
            </g><g transform="translate(0 297)" class="bracket-line-container">
                <path d="M 228 53 L 236 53 L 236 1 L 244 1" class="bracket-line" data-line-length="68"></path>
            </g><g transform="translate(0 27)" class="bracket-line-container">
                <path d="M 228 1 L 236 1 L 236 54" class="bracket-line" data-line-length="68"></path>
            </g><g transform="translate(0 81)" class="bracket-line-container">
                <path d="M 228 53 L 236 53 L 236 1 L 244 1" class="bracket-line" data-line-length="68"></path>
            </g>
        </g>
        <g>
            <g transform="translate(488 162)" class="match -pending " data-identifier="7">
                <defs>
                    <clipPath id="match-clippath-7">
                        <rect x="26" y="5" width="200" height="45" rx="3" ry="3"></rect>
                    </clipPath>
                </defs>
                <text x="11" y="31" width="24" height="10" text-anchor="middle" class="match--identifier">7</text>
                <rect x="24" y="3" width="204" height="49" rx="3" ry="3" class="match--wrapper-background "></rect>
                <rect x="26" y="5" width="200" height="45" rx="3" ry="3" class="match--base-background"></rect>
                <g clip-path="url(#match-clippath-7)">
                    <svg x="0" y="5" class="match--player">
                        <title></title>
                        <defs>
                            <clipPath id="clipPath3316285">
                                <rect x="50" y="0" width="143" height="22"></rect>
                            </clipPath>
                            <clipPath id="portraitClipPath3316285">
                                <path></path>
                            </clipPath>
                        </defs>
                        <path d="M 50 0 h 147 v 22 h -147 Z" class="match--player-background -empty"></path>
                        <path d="M 26 0 h 24 v 22 h -24 Z" class="match--seed-background"></path>
                        <text x="38" y="14" width="10" height="12" text-anchor="middle" class="match--seed"></text>
                    </svg>
                    <svg x="0" y="28" class="match--player">
                        <title></title>
                        <defs>
                            <clipPath id="clipPath822001">
                                <rect x="50" y="0" width="143" height="22"></rect>
                            </clipPath><clipPath id="portraitClipPath822001">
                                <path></path>
                            </clipPath>
                        </defs>
                        <path d="M 50 0 h 147 v 22 h -147 Z" class="match--player-background -empty"></path>
                        <path d="M 26 0 h 24 v 22 h -24 Z" class="match--seed-background"></path>
                        <text x="38" y="14" width="10" height="12" text-anchor="middle" class="match--seed"></text>
                        <line x1="26" y1="-0.5" x2="226" y2="-0.5" class="match--player-divider"></line>
                    </svg>
                </g>
            </g>
            <g transform="translate(244 270)" class="match -pending " data-identifier="6">
                <defs>
                    <clipPath id="match-clippath-6">
                        <rect x="26" y="5" width="200" height="45" rx="3" ry="3"></rect>
                    </clipPath>
                </defs>
                <text x="11" y="31" width="24" height="10" text-anchor="middle" class="match--identifier">6</text>
                <rect x="24" y="3" width="204" height="49" rx="3" ry="3" class="match--wrapper-background "></rect>
                <rect x="26" y="5" width="200" height="45" rx="3" ry="3" class="match--base-background"></rect>
                <g clip-path="url(#match-clippath-6)">
                    <svg x="0" y="5" class="match--player">
                        <title></title>
                        <defs>
                            <clipPath id="clipPath6571005">
                                <rect x="50" y="0" width="143" height="22"></rect>
                            </clipPath>
                            <clipPath id="portraitClipPath6571005">
                                <path></path>
                            </clipPath>
                        </defs>
                        <path d="M 50 0 h 147 v 22 h -147 Z" class="match--player-background -empty"></path>
                        <path d="M 26 0 h 24 v 22 h -24 Z" class="match--seed-background"></path>
                        <text x="38" y="14" width="10" height="12" text-anchor="middle" class="match--seed"></text>
                    </svg>
                    <svg x="0" y="28" class="match--player">
                        <title></title>
                        <defs>
                            <clipPath id="clipPath171016">
                                <rect x="50" y="0" width="143" height="22">

                                </rect>
                            </clipPath>
                            <clipPath id="portraitClipPath171016">
                                <path></path>
                            </clipPath>
                        </defs>
                        <path d="M 50 0 h 147 v 22 h -147 Z" class="match--player-background -empty"></path>
                        <path d="M 26 0 h 24 v 22 h -24 Z" class="match--seed-background"></path>
                        <text x="38" y="14" width="10" height="12" text-anchor="middle" class="match--seed"></text>
                        <line x1="26" y1="-0.5" x2="226" y2="-0.5" class="match--player-divider"></line>
                    </svg>
                </g>
            </g>
            <g transform="translate(244 54)" class="match -pending " data-identifier="5">
                <defs>
                    <clipPath id="match-clippath-5">
                        <rect x="26" y="5" width="200" height="45" rx="3" ry="3"></rect>
                    </clipPath>
                </defs>
                <text x="11" y="31" width="24" height="10" text-anchor="middle" class="match--identifier">5</text>
                <rect x="24" y="3" width="204" height="49" rx="3" ry="3" class="match--wrapper-background "></rect>
                <rect x="26" y="5" width="200" height="45" rx="3" ry="3" class="match--base-background"></rect>
                <g clip-path="url(#match-clippath-5)">
                    <svg x="0" y="5" class="match--player">
                        <title></title>
                        <defs>
                            <clipPath id="clipPath9690850">
                                <rect x="50" y="0" width="143" height="22"></rect>
                            </clipPath>
                            <clipPath id="portraitClipPath9690850">
                                <path></path>
                            </clipPath>
                        </defs>
                        <path d="M 50 0 h 147 v 22 h -147 Z" class="match--player-background -empty"></path>
                        <path d="M 26 0 h 24 v 22 h -24 Z" class="match--seed-background"></path>
                        <text x="38" y="14" width="10" height="12" text-anchor="middle" class="match--seed"></text>
                    </svg>
                    <svg x="0" y="28" class="match--player">
                        <title></title>
                        <defs>
                            <clipPath id="clipPath2747180">
                                <rect x="50" y="0" width="143" height="22"></rect>
                            </clipPath>
                            <clipPath id="portraitClipPath2747180">
                                <path></path>
                            </clipPath>
                        </defs>
                        <path d="M 50 0 h 147 v 22 h -147 Z" class="match--player-background -empty"></path>
                        <path d="M 26 0 h 24 v 22 h -24 Z" class="match--seed-background"></path>
                        <text x="38" y="14" width="10" height="12" text-anchor="middle" class="match--seed"></text>
                        <line x1="26" y1="-0.5" x2="226" y2="-0.5" class="match--player-divider"></line>
                    </svg>
                </g>
            </g>
            <g transform="translate(0 324)" class="match -pending " data-identifier="4">
                <defs>
                    <clipPath id="match-clippath-4">
                        <rect x="26" y="5" width="200" height="45" rx="3" ry="3"></rect>
                    </clipPath>
                </defs>
                <text x="11" y="31" width="24" height="10" text-anchor="middle" class="match--identifier">4</text>
                <rect x="24" y="3" width="204" height="49" rx="3" ry="3" class="match--wrapper-background "></rect>
                <rect x="26" y="5" width="200" height="45" rx="3" ry="3" class="match--base-background"></rect>
                <g clip-path="url(#match-clippath-4)">
                    <svg x="0" y="5" class="match--player">
                        <title>|__auito__|3</title>
                        <defs>
                            <clipPath id="clipPath9584346">
                                <rect x="50" y="0" width="143" height="22"></rect>
                            </clipPath>
                            <clipPath id="portraitClipPath9584346">
                                <path></path>
                            </clipPath>
                        </defs>
                        <path d="M 50 0 h 147 v 22 h -147 Z" class="match--player-background"></path>
                        <path d="M 26 0 h 24 v 22 h -24 Z" class="match--seed-background"></path>
                        <text x="38" y="14" width="10" height="12" text-anchor="middle" class="match--seed">3</text>
                        <text clip-path="url(#clipPath9584346)" x="55" y="15" width="147" height="12" text-anchor="start" class="match--player-name ">|__auito__|3</text>
                    </svg>
                    <svg x="0" y="28" class="match--player">
                        <title>|__auito__|6</title>
                        <defs>
                            <clipPath id="clipPath1176604">
                                <rect x="50" y="0" width="143" height="22"></rect>
                            </clipPath>
                            <clipPath id="portraitClipPath1176604">
                                <path></path>
                            </clipPath>
                        </defs>
                        <path d="M 50 0 h 147 v 22 h -147 Z" class="match--player-background"></path>
                        <path d="M 26 0 h 24 v 22 h -24 Z" class="match--seed-background"></path>
                        <text x="38" y="14" width="10" height="12" text-anchor="middle" class="match--seed">6</text>
                        <text clip-path="url(#clipPath1176604)" x="55" y="15" width="147" height="12" text-anchor="start" class="match--player-name ">|__auito__|6</text>
                        <line x1="26" y1="-0.5" x2="226" y2="-0.5" class="match--player-divider"></line>
                    </svg>
                </g>
            </g>
            <g transform="translate(0 216)" class="match -pending " data-identifier="3">
                <defs>
                    <clipPath id="match-clippath-3">
                        <rect x="26" y="5" width="200" height="45" rx="3" ry="3"></rect>
                    </clipPath>
                </defs>
                <text x="11" y="31" width="24" height="10" text-anchor="middle" class="match--identifier">3</text>
                <rect x="24" y="3" width="204" height="49" rx="3" ry="3" class="match--wrapper-background "></rect>
                <rect x="26" y="5" width="200" height="45" rx="3" ry="3" class="match--base-background"></rect>
                <g clip-path="url(#match-clippath-3)">
                    <svg x="0" y="5" class="match--player">
                        <title>|__autoi__|2</title>
                        <defs>
                            <clipPath id="clipPath7024876">
                                <rect x="50" y="0" width="143" height="22"></rect>
                            </clipPath>
                            <clipPath id="portraitClipPath7024876">
                                <path></path>
                            </clipPath>
                        </defs>
                        <path d="M 50 0 h 147 v 22 h -147 Z" class="match--player-background"></path>
                        <path d="M 26 0 h 24 v 22 h -24 Z" class="match--seed-background"></path>
                        <text x="38" y="14" width="10" height="12" text-anchor="middle" class="match--seed">2</text>
                        <text clip-path="url(#clipPath7024876)" x="55" y="15" width="147" height="12" text-anchor="start" class="match--player-name ">|__autoi__|2</text>
                    </svg>
                    <svg x="0" y="28" class="match--player">
                        <title>|__auito__|7</title>
                        <defs>
                            <clipPath id="clipPath524731">
                                <rect x="50" y="0" width="143" height="22"></rect>
                            </clipPath>
                            <clipPath id="portraitClipPath524731">
                                <path></path>
                            </clipPath>
                        </defs>
                        <path d="M 50 0 h 147 v 22 h -147 Z" class="match--player-background"></path>
                        <path d="M 26 0 h 24 v 22 h -24 Z" class="match--seed-background"></path>
                        <text x="38" y="14" width="10" height="12" text-anchor="middle" class="match--seed">7</text>
                        <text clip-path="url(#clipPath524731)" x="55" y="15" width="147" height="12" text-anchor="start" class="match--player-name ">|__auito__|7</text>
                        <line x1="26" y1="-0.5" x2="226" y2="-0.5" class="match--player-divider"></line>
                    </svg>
                </g>
            </g>
            <g transform="translate(0 108)" class="match -pending " data-identifier="2">
                <defs>
                    <clipPath id="match-clippath-2">
                        <rect x="26" y="5" width="200" height="45" rx="3" ry="3"></rect>
                    </clipPath>
                </defs>
                <text x="11" y="31" width="24" height="10" text-anchor="middle" class="match--identifier">2</text>
                <rect x="24" y="3" width="204" height="49" rx="3" ry="3" class="match--wrapper-background "></rect>
                <rect x="26" y="5" width="200" height="45" rx="3" ry="3" class="match--base-background"></rect>
                <g clip-path="url(#match-clippath-2)">
                    <svg x="0" y="5" class="match--player">
                        <title>|__auito__|4</title>
                        <defs>
                            <clipPath id="clipPath3051191">
                                <rect x="50" y="0" width="143" height="22"></rect>
                            </clipPath>
                            <clipPath id="portraitClipPath3051191">
                                <path></path>
                            </clipPath>
                        </defs>
                        <path d="M 50 0 h 147 v 22 h -147 Z" class="match--player-background"></path>
                        <path d="M 26 0 h 24 v 22 h -24 Z" class="match--seed-background"></path>
                        <text x="38" y="14" width="10" height="12" text-anchor="middle" class="match--seed">4</text>
                        <text clip-path="url(#clipPath3051191)" x="55" y="15" width="147" height="12" text-anchor="start" class="match--player-name ">|__auito__|4</text>
                    </svg>
                    <svg x="0" y="28" class="match--player">
                        <title>|__auito__|5</title>
                        <defs>
                            <clipPath id="clipPath5887602">
                                <rect x="50" y="0" width="143" height="22"></rect>
                            </clipPath>
                            <clipPath id="portraitClipPath5887602">
                                <path></path>
                            </clipPath>
                        </defs>
                        <path d="M 50 0 h 147 v 22 h -147 Z" class="match--player-background"></path>
                        <path d="M 26 0 h 24 v 22 h -24 Z" class="match--seed-background"></path>
                        <text x="38" y="14" width="10" height="12" text-anchor="middle" class="match--seed">5</text>
                        <text clip-path="url(#clipPath5887602)" x="55" y="15" width="147" height="12" text-anchor="start" class="match--player-name ">|__auito__|5</text>
                        <line x1="26" y1="-0.5" x2="226" y2="-0.5" class="match--player-divider"></line>
                    </svg>
                </g>
            </g>
            <g transform="translate(0 0)" class="match -pending " data-identifier="1">
                <defs>
                    <clipPath id="match-clippath-1">
                        <rect x="26" y="5" width="200" height="45" rx="3" ry="3"></rect>
                    </clipPath>
                </defs>
                <text x="11" y="31" width="24" height="10" text-anchor="middle" class="match--identifier">1</text>
                <rect x="24" y="3" width="204" height="49" rx="3" ry="3" class="match--wrapper-background "></rect>
                <rect x="26" y="5" width="200" height="45" rx="3" ry="3" class="match--base-background"></rect>
                <g clip-path="url(#match-clippath-1)"><svg x="0" y="5" class="match--player">
                    <title>|__aooooooooooooou_|1</title>
                    <defs>
                        <clipPath id="clipPath2843695">
                            <rect x="50" y="0" width="143" height="22"></rect>
                        </clipPath>
                        <clipPath id="portraitClipPath2843695">
                            <path></path>
                        </clipPath>
                    </defs>
                    <path d="M 50 0 h 147 v 22 h -147 Z" class="match--player-background"></path>
                    <path d="M 26 0 h 24 v 22 h -24 Z" class="match--seed-background"></path>
                    <text x="38" y="14" width="10" height="12" text-anchor="middle" class="match--seed">1</text>
                    <text clip-path="url(#clipPath2843695)" x="55" y="15" width="147" height="12" text-anchor="start" class="match--player-name ">|__aooooooooooooou_|1</text>
                </svg>
                <svg x="0" y="28" class="match--player">
                    <title>|__auito__|8</title>
                    <defs>
                        <clipPath id="clipPath6381011">
                            <rect x="50" y="0" width="143" height="22"></rect>
                        </clipPath>
                        <clipPath id="portraitClipPath6381011">
                            <path></path>
                        </clipPath>
                    </defs>
                    <path d="M 50 0 h 147 v 22 h -147 Z" class="match--player-background"></path>
                    <path d="M 26 0 h 24 v 22 h -24 Z" class="match--seed-background"></path>
                    <text x="38" y="14" width="10" height="12" text-anchor="middle" class="match--seed">8</text>
                    <text clip-path="url(#clipPath6381011)" x="55" y="15" width="147" height="12" text-anchor="start" class="match--player-name ">|__auito__|8</text>
                    <line x1="26" y1="-0.5" x2="226" y2="-0.5" class="match--player-divider"></line>
                </svg>
            </g>
        </g>
    </g>
</g>
</svg>

  
  <% 

  %>

<form  style="margin: auto;" action="addToLista" method="POST">
  <% if(locals.message){ %>
    <div class="alert alert-success"><%= message %></div>

    <%}%> <% if(locals.message2){ %>
    <div class="alert alert-danger"><%= message2 %></div>

    <%}%>
  <div>
      <div class="col ">
        <label>Nazwa zespołu:</label>
        <div class="">
          <input
            type="text"
            class=""

            name="teamname"
            placeholder="nazwa zespołu"
            required
          />
    <button type="submit" id="btn2">Wyślij</button>

        </div>
      </div>
    <input type="hidden" name="schoollevel" value="student" />
  </div>
</form>

  <% 
    const iloscDruzyn = Lista.length

    let iloscDruzynNext = iloscDruzyn


  %>
  <div style="display: flex; flex-direction: row; justify-content: center">
    
    <% 
    
    const puste = "puste"

    var druzynaRownaPotedze = 0

    var potega = 1

    var potegaLicznik = potega

    while ( iloscDruzyn > potega*2){
      potega *= 2
      potegaLicznik = potega
    }

    if (iloscDruzyn == potega*2){
      druzynaRownaPotedze = 1
    }

    %>



    <%
    
    // 4

    // 7

    // 8

    // 4 + 

    // const ii = 4
    // var i = ii

    // 7 - i * 2 = -1 = -1  i--
    // 7 - 3*2   = 1 =/= -1  OK

    //  ii - (7 - 3*2   = 1) = 3


    // 6 - 4*2 = -2 
    // 6 - 3*2 =  0
    // 6 - 2*2 =  2

    // 4 =      2Gł
    // 5 = 2pre 3Gł
    // 6 = 4pre 2Gł
    // 7 = 6pre 1Gł
    // 8 =      4Gł
    // 9 = 2pre 7Gł
    // 10= 4pre 6Gł

    // iloscDrurzyn = (iloscDrurzyn-potega)*2   /   potega - ((iloscDrurzyn-potega)*2)/2

    
    %>

    <% if (druzynaRownaPotedze == 0) {  %>

      
        <% 
        var sprawdz = iloscDruzyn - potegaLicznik*2

        while ( sprawdz < 1) { 
          
          sprawdz = iloscDruzyn - potegaLicznik*2
          
          %>


          <%potegaLicznik = potegaLicznik - 1
        } %>


        <% const startPreWalki =  (iloscDruzyn - potega)*2 %>
        <% const startGlowneWalki = potega - startPreWalki/2 %>
        

      <div class="drabinkaPodzial">

        
          
        <% 
        // Pre walki -----------------------------------------------------------------------------------
        var j = 0
        for (let i = 0; i < potega*2; i ++) { 
          %>
          
          <% if(i < startPreWalki ) { %>

            <div style="display: flex; ">
              <div style="position: relative;" class="blokDruzyny" onClick="showZawodnicy('druzyna-<%= Lista[i].id %>')">
                <%= Lista[i].nazwaZespolu %>
                <div 
                style="display: none;position: absolute;top: -85px;left: 200px;min-width: 300px;border: 3px solid black;background-color: rgb(61, 61, 61);padding-left: 10px;padding-bottom: 5px;" 
                id="druzyna-<%= Lista[i].id %>">
                <div style="font-size: 20px;">Zawodnicy: <br/></div>
                <div style="font-size: 17px; padding-left: 5px;">
                  <% Lista[i]?.users?.forEach(function(zawodnik) {%>
                    <%if(zawodnik.rezerwa == 0){%>
                      <%= zawodnik?.imie %>
                    <%= zawodnik?.nazwisko %><br/>
                      <%  } %>
                  <%  }) %>
                </div>
                  <div style="font-size: 20px;">Rezerwa: <br/></div>
                <div style="font-size: 17px; padding-left: 5px;">
                  <% Lista[i]?.users?.forEach(function(zawodnik) {%>
                    <%if(zawodnik.rezerwa == 1){%>
                      <%= zawodnik?.imie %>
                    <%= zawodnik?.nazwisko %><br/>
                      <%  } %>
                  <%  }) %>
                </div>
                </div>
              </div>
            </div>

          <% j ++ 
            } else { %>
              <div class="blokDruzyny">
                &nbsp;
              </div>
            
          <% }; %>
  
        <% }; %>
  
        

      </div>

   

      <div class="drabinkaPodzialWyniki">
          <% 
          // Pre walki -----------------------------------------------------------------------------------
          var j = 0
          for (let i = 0; i < potega*2; i ++) { 
            %>
            
            <% if(i < startPreWalki ) { %>
              <div style="display: flex;" id="preDruzynaWyniki-<%= i %>">
                <div class="blokDruzynyWyniki">
                  <%= 0 %>
                </div>
              </div>
              <div style="
              position:absolute;
              width:1px;
              background-color:red;
              " 
              id="line-<%= i %>">
              </div>
                
            <% j ++ 
              } else { %>
                <div class="blokDruzyny">
                  &nbsp;
                </div>
              
            <% }; %>
    
          <% }; %>
    
        </div>


        
  
      <div class="drabinkaPodzial">
        <% 
        // Główne walki ---------------------------------------------------------------------------------
        for (let i = 0; i < potega; i ++) { %>
          <div style="display: flex; align-items: center">
            <div class="nazwy">
              <% if(i >= (startPreWalki/2)) { 
                j ++ %>
                <div style="display: flex; ">
              <div style="position: relative;" class="blokDruzyny" onClick="showZawodnicy('druzyna-<%= Lista[j-1].id %>')">
                <%= Lista[j-1].nazwaZespolu %>
                <div 
                style="display: none;position: absolute;top: -85px;left: 200px;min-width: 300px;border: 3px solid black;background-color: rgb(61, 61, 61);padding-left: 10px;padding-bottom: 5px;" 
                id="druzyna-<%= Lista[j-1].id %>">
                <div style="font-size: 20px;">Zawodnicy: <br/></div>
                <div style="font-size: 17px; padding-left: 5px;">
                  <% Lista[j-1]?.users?.forEach(function(zawodnik) {%>
                    <%if(zawodnik.rezerwa == 0){%>
                      <%= zawodnik?.imie %>
                    <%= zawodnik?.nazwisko %><br/>
                      <%  } %>
                  <%  }) %>
                </div>
                  <div style="font-size: 20px;">Rezerwa: <br/></div>
                <div style="font-size: 17px; padding-left: 5px;">
                  <% Lista[j-1]?.users?.forEach(function(zawodnik) {%>
                    <%if(zawodnik.rezerwa == 1){%>
                      <%= zawodnik?.imie %>
                    <%= zawodnik?.nazwisko %><br/>
                      <%  } %>
                  <%  }) %>
                </div>
                </div>
              </div>
            </div>
              <% 
              } else { %>
                <div id="glowneDruzynaNazwa-<%= i %>">
                  <div class="blokDruzyny">
                    <select style="background-color: rgb(56, 56, 56);" id="framework">
                      <option value="0">puste</option>
                      <% Lista?.forEach(function(grupa) {%>
                        <option value="<%= grupa?.id %>"><%= grupa?.nazwaZespolu %></option>
                      <%  }) %>
                    </select>
                  </div>
                </div>
              <% }; %>
            </div>
            

          </div>
        <% }; %>
  
      </div>

      <div class="drabinkaPodzialWyniki">
          <% 
        // Główne walki ---------------------------------------------------------------------------------
        for (let i = 0; i < potega; i ++) { %>
          
          <% if(i >= (startPreWalki/2)) { 
            j ++ %>
            <div style="display: flex;" id="glownaDruzynaWyniki-<%= i %>">
                <div class="blokDruzynyWyniki">
                  <%= 0 %>
                </div>
              </div>
              <div style="
              position:absolute;
              width:1px;
              background-color:red;
              " 
              id="line-<%= i %>">
              </div>
          <% 
          } else { %>
            <div style="display: flex;" id="glownaDruzynaWyniki-<%= i %>">
                <div class="blokDruzynyWyniki">
                  <%= 0 %>
                </div>
              </div>
              <div style="
              position:absolute;
              width:1px;
              background-color:red;
              " 
              id="line-<%= i %>">
              </div>
          <% }; %>
            
        <% }; %>
    
        </div>


    <%  
  
    iloscDruzynNext = potega
    } else { %>

      <div class="drabinkaPodzial">
  
        <% Lista.forEach(function(grupy) { %>
          <div class="blokDruzyny">
            <%= grupy.nazwaZespolu %>
          </div>
        <% }); %> 
  
      </div>

      <div class="drabinkaPodzialWyniki">
  
        <% Lista.forEach(function(grupy) { %>
          <div class="blokDruzyny">
            <%= 0 %>
          </div>
        <% }); %> 
  
      </div>

    <%  } %>
    <% 
      let i = 0;
      let wyniki_i = 0;
      let wyniki_iloscDruzynNext = iloscDruzynNext;

      while (iloscDruzynNext > 1) { %>
        <div class="drabinkaPodzial">
          <% for (let i = 0; i < iloscDruzynNext; i += 2) {%>
          <div class="blokDruzyny">
            <select style="background-color: rgb(56, 56, 56);" id="framework">
              <option value="0">puste</option>
              <% Lista?.forEach(function(grupa) {%>
                <option value="<%= grupa?.id %>"><%= grupa?.nazwaZespolu %></option>
              <%  }) %>
            </select>
          </div>
          <% }; %>
        </div>

        <div class="drabinkaPodzialWyniki">
          <% for (let i = 0; i < iloscDruzynNext; i += 2) {%>
          <div class="blokDruzyny">
            <%= 0 %>
          </div>
          <% }; %>
        </div>
       
      <%
      iloscDruzynNext /= 2
      }
    %>

  </div>
  
  <% if (Lista == 0) { %>
  <div class="brak">Nic tu nie ma :(</div>

  <% } %>

</div>



<script>

function showZawodnicy(id) {
  var y = document.getElementById(id);
  console.log(id)

    if (y.style.display === "none") {
        y.style.display = "block";
        console.log("Pokazano druzyna-"+id)
    }
    else if (y.style.display === "block") {
        y.style.display = "none";
        console.log("Schowano druzyna-"+id)
    }
}

function adjustLine(from, to, line){

var fT = from.offsetTop  + from.offsetHeight/2;
var tT = to.offsetTop    + to.offsetHeight/2;
var fL = from.offsetLeft + from.offsetWidth;
var tL = to.offsetLeft   ;

var CA   = Math.abs(tT - fT);
var CO   = Math.abs(tL - fL);
var H    = Math.sqrt(CA*CA + CO*CO);
var ANG  = 180 / Math.PI * Math.acos( CA/H );

if(tT > fT){
    var top  = (tT-fT)/2 + fT;
}else{
    var top  = (fT-tT)/2 + tT;
}
if(tL > fL){
    var left = (tL-fL)/2 + fL;
}else{
    var left = (fL-tL)/2 + tL;
}

if(( fT < tT && fL < tL) || ( tT < fT && tL < fL) || (fT > tT && fL > tL) || (tT > fT && tL > fL)){
  ANG *= -1;
}
top-= H/2;

line.style["-webkit-transform"] = 'rotate('+ ANG +'deg)';
line.style["-moz-transform"] = 'rotate('+ ANG +'deg)';
line.style["-ms-transform"] = 'rotate('+ ANG +'deg)';
line.style["-o-transform"] = 'rotate('+ ANG +'deg)';
line.style["-transform"] = 'rotate('+ ANG +'deg)';
line.style.top    = top+'px';
line.style.left   = left+'px';
line.style.height = H + 'px';
}
adjustLine(
document.getElementById('preDruzynaWyniki-0'), 
document.getElementById('glowneDruzynaNazwa-0'),
document.getElementById('line-0')
);
adjustLine(
document.getElementById('preDruzynaWyniki-1'), 
document.getElementById('glowneDruzynaNazwa-0'),
document.getElementById('line-1')
);






</script>



<svg width="1009" height="2000" viewBox="0 0 1009 2000">
    <g class="parent">
        <g>
            <g transform="translate(0 27)" class="bracket-line-container">
                <path d="M 228 1 L 236 1 L 236 54" class="bracket-line" data-line-length="68"></path>
            </g>
            //                       +54
            <g transform="translate(0 81)" class="bracket-line-container">
                <path d="M 228 53 L 236 53 L 236 1 L 244 1" class="bracket-line" data-line-length="68"></path>
            </g>
            //                       +162
            <g transform="translate(0 243)" class="bracket-line-container">
                <path d="M 228 1 L 236 1 L 236 54" class="bracket-line" data-line-length="68"></path>
            </g>
            //                        +54
            <g transform="translate(0 297)" class="bracket-line-container">
                <path d="M 228 53 L 236 53 L 236 1 L 244 1" class="bracket-line" data-line-length="68"></path>
            </g>

            //
            //                       +162
            <g transform="translate(0 459)" class="bracket-line-container">
                <path d="M 228 1 L 236 1 L 236 54" class="bracket-line" data-line-length="68"></path>
            </g>
            //                        +54
            <g transform="translate(0 513)" class="bracket-line-container">
                <path d="M 228 53 L 236 53 L 236 1 L 244 1" class="bracket-line" data-line-length="68"></path>
            </g>

            <g transform="translate(0 675)" class="bracket-line-container">
                <path d="M 228 1 L 236 1 L 236 54" class="bracket-line" data-line-length="68"></path>
            </g>

            <g transform="translate(0 729)" class="bracket-line-container">
                <path d="M 228 53 L 236 53 L 236 1 L 244 1" class="bracket-line" data-line-length="68"></path>
            </g>

            // //

            //                     +244
            <g transform="translate(244 81)">                     //+54
                <path class="bracket-line" d="M 228 1 L 236 1 L 236 108"></path>
            </g>

            //                         +108
            <g transform="translate(244 189)" class="bracket-line-container">
            //                 +54       +54      Tylko pierwszy raz w późniejszych już nie
                <path d="M 228 107 L 236 107 L 236 1 L 244 1" class="bracket-line" data-line-length="122"></path>
            </g>
            
            //                         +3*108
            <g transform="translate(244 513)">                     //+54
                <path class="bracket-line" d="M 228 1 L 236 1 L 236 162"></path>
            </g>

            <g transform="translate(244 621)" class="bracket-line-container">
              //               +54       +54     Tylko pierwszy raz w późniejszych już nie
                <path d="M 228 107 L 236 107 L 236 1 L 244 1" class="bracket-line" data-line-length="122"></path>
            </g>

        </g>
        <g>
          
        <g transform="translate(0 0)" class="match -pending " data-identifier="1">
                <defs>
                    <clipPath id="match-clippath-1">
                        <rect x="26" y="5" width="200" height="45" rx="3" ry="3"></rect>
                    </clipPath>
                </defs>
                <text x="11" y="31" width="24" height="10" text-anchor="middle" class="match--identifier">1</text>
                <rect x="24" y="3" width="204" height="49" rx="3" ry="3" class="match--wrapper-background "></rect>
                <rect x="26" y="5" width="200" height="45" rx="3" ry="3" class="match--base-background"></rect>
                <g clip-path="url(#match-clippath-1)"><svg x="0" y="5" class="match--player">
                    <title>|__aooooooooooooou_|1</title>
                    <defs>
                        <clipPath id="clipPath2843695">
                            <rect x="50" y="0" width="143" height="22"></rect>
                        </clipPath>
                        <clipPath id="portraitClipPath2843695">
                            <path></path>
                        </clipPath>
                    </defs>
                    <path d="M 50 0 h 147 v 22 h -147 Z" class="match--player-background"></path>
                    <path d="M 26 0 h 24 v 22 h -24 Z" class="match--seed-background"></path>
                    <text x="38" y="14" width="10" height="12" text-anchor="middle" class="match--seed">1</text>
                    <text clip-path="url(#clipPath2843695)" x="55" y="15" width="147" height="12" text-anchor="start" class="match--player-name ">|__aooooooooooooou_|1</text>
                </svg>
                
                <svg x="0" y="28" class="match--player">
                    <title>|__auito__|8</title>
                    <defs>
                        <clipPath id="clipPath6381011">
                            <rect x="50" y="0" width="143" height="22"></rect>
                        </clipPath>
                        <clipPath id="portraitClipPath6381011">
                            <path></path>
                        </clipPath>
                    </defs>
                    <path d="M 50 0 h 147 v 22 h -147 Z" class="match--player-background"></path>
                    <path d="M 26 0 h 24 v 22 h -24 Z" class="match--seed-background"></path>
                    <text x="38" y="14" width="10" height="12" text-anchor="middle" class="match--seed">8</text>
                    <text clip-path="url(#clipPath6381011)" x="55" y="15" width="147" height="12" text-anchor="start" class="match--player-name ">|__auito__|8</text>
                    <line x1="26" y1="-0.5" x2="226" y2="-0.5" class="match--player-divider"></line>
                </svg>
            </g>
        </g>

        <g transform="translate(0 108)" class="match -pending " data-identifier="1" id="drurzyna" onClick="showDruzyna()">
                <defs>
                    <clipPath id="match-clippath-1">
                        <rect x="26" y="5" width="200" height="45" rx="3" ry="3"></rect>
                    </clipPath>
                </defs>
                <text x="11" y="31" width="24" height="10" text-anchor="middle" class="match--identifier">1</text>
                <rect x="24" y="3" width="204" height="49" rx="3" ry="3" class="match--wrapper-background "></rect>
                <rect x="26" y="5" width="200" height="45" rx="3" ry="3" class="match--base-background"></rect>
                <g clip-path="url(#match-clippath-1)"><svg x="0" y="5" class="match--player">
                    <title>|__aooooooooooooou_|1</title>
                    <defs>
                        <clipPath id="clipPath2843695">
                            <rect x="50" y="0" width="143" height="22"></rect>
                        </clipPath>
                        <clipPath id="portraitClipPath2843695">
                            <path></path>
                        </clipPath>
                    </defs>
                    <path d="M 50 0 h 147 v 22 h -147 Z" class="match--player-background"></path>
                    <path d="M 26 0 h 24 v 22 h -24 Z" class="match--seed-background"></path>
                    <text x="38" y="14" width="10" height="12" text-anchor="middle" class="match--seed">1</text>
                    <text clip-path="url(#clipPath2843695)" x="55" y="15" width="147" height="12" text-anchor="start" class="match--player-name ">|__aooooooooooooou_|1</text>
                </svg>
                <svg x="0" y="28" class="match--player">
                    <title>|__auito__|8</title>
                    <defs>
                        <clipPath id="clipPath6381011">
                            <rect x="50" y="0" width="143" height="22"></rect>
                        </clipPath>
                        <clipPath id="portraitClipPath6381011">
                            <path></path>
                        </clipPath>
                    </defs>
                    <path d="M 50 0 h 147 v 22 h -147 Z" class="match--player-background"></path>
                    <path d="M 26 0 h 24 v 22 h -24 Z" class="match--seed-background"></path>
                    <text x="38" y="14" width="10" height="12" text-anchor="middle" class="match--seed">8</text>
                    <text clip-path="url(#clipPath6381011)" x="55" y="15" width="147" height="12" text-anchor="start" class="match--player-name ">|__auito__|8</text>
                    <line x1="26" y1="-0.5" x2="226" y2="-0.5" class="match--player-divider"></line>
                </svg>
            </g>
        </g>

        <g transform="translate(0 216)" class="match -pending " data-identifier="1">
                <defs>
                    <clipPath id="match-clippath-1">
                        <rect x="26" y="5" width="200" height="45" rx="3" ry="3"></rect>
                    </clipPath>
                </defs>
                <text x="11" y="31" width="24" height="10" text-anchor="middle" class="match--identifier">1</text>
                <rect x="24" y="3" width="204" height="49" rx="3" ry="3" class="match--wrapper-background "></rect>
                <rect x="26" y="5" width="200" height="45" rx="3" ry="3" class="match--base-background"></rect>
                <g clip-path="url(#match-clippath-1)"><svg x="0" y="5" class="match--player">
                    <title>|__aooooooooooooou_|1</title>
                    <defs>
                        <clipPath id="clipPath2843695">
                            <rect x="50" y="0" width="143" height="22"></rect>
                        </clipPath>
                        <clipPath id="portraitClipPath2843695">
                            <path></path>
                        </clipPath>
                    </defs>
                    <path d="M 50 0 h 147 v 22 h -147 Z" class="match--player-background"></path>
                    <path d="M 26 0 h 24 v 22 h -24 Z" class="match--seed-background"></path>
                    <text x="38" y="14" width="10" height="12" text-anchor="middle" class="match--seed">1</text>
                    <text clip-path="url(#clipPath2843695)" x="55" y="15" width="147" height="12" text-anchor="start" class="match--player-name ">|__aooooooooooooou_|1</text>
                </svg>
                <svg x="0" y="28" class="match--player">
                    <title>|__auito__|8</title>
                    <defs>
                        <clipPath id="clipPath6381011">
                            <rect x="50" y="0" width="143" height="22"></rect>
                        </clipPath>
                        <clipPath id="portraitClipPath6381011">
                            <path></path>
                        </clipPath>
                    </defs>
                    <path d="M 50 0 h 147 v 22 h -147 Z" class="match--player-background"></path>
                    <path d="M 26 0 h 24 v 22 h -24 Z" class="match--seed-background"></path>
                    <text x="38" y="14" width="10" height="12" text-anchor="middle" class="match--seed">8</text>
                    <text clip-path="url(#clipPath6381011)" x="55" y="15" width="147" height="12" text-anchor="start" class="match--player-name ">|__auito__|8</text>
                    <line x1="26" y1="-0.5" x2="226" y2="-0.5" class="match--player-divider"></line>
                </svg>
            </g>
        </g>

        <g transform="translate(0 324)" class="match -pending " data-identifier="1">
                <defs>
                    <clipPath id="match-clippath-1">
                        <rect x="26" y="5" width="200" height="45" rx="3" ry="3"></rect>
                    </clipPath>
                </defs>
                <text x="11" y="31" width="24" height="10" text-anchor="middle" class="match--identifier">1</text>
                <rect x="24" y="3" width="204" height="49" rx="3" ry="3" class="match--wrapper-background "></rect>
                <rect x="26" y="5" width="200" height="45" rx="3" ry="3" class="match--base-background"></rect>
                <g clip-path="url(#match-clippath-1)"><svg x="0" y="5" class="match--player">
                    <title>|__aooooooooooooou_|1</title>
                    <defs>
                        <clipPath id="clipPath2843695">
                            <rect x="50" y="0" width="143" height="22"></rect>
                        </clipPath>
                        <clipPath id="portraitClipPath2843695">
                            <path></path>
                        </clipPath>
                    </defs>
                    <path d="M 50 0 h 147 v 22 h -147 Z" class="match--player-background"></path>
                    <path d="M 26 0 h 24 v 22 h -24 Z" class="match--seed-background"></path>
                    <text x="38" y="14" width="10" height="12" text-anchor="middle" class="match--seed">1</text>
                    <text clip-path="url(#clipPath2843695)" x="55" y="15" width="147" height="12" text-anchor="start" class="match--player-name ">|__aooooooooooooou_|1</text>
                </svg>
                <svg x="0" y="28" class="match--player">
                    <title>|__auito__|8</title>
                    <defs>
                        <clipPath id="clipPath6381011">
                            <rect x="50" y="0" width="143" height="22"></rect>
                        </clipPath>
                        <clipPath id="portraitClipPath6381011">
                            <path></path>
                        </clipPath>
                    </defs>
                    <path d="M 50 0 h 147 v 22 h -147 Z" class="match--player-background"></path>
                    <path d="M 26 0 h 24 v 22 h -24 Z" class="match--seed-background"></path>
                    <text x="38" y="14" width="10" height="12" text-anchor="middle" class="match--seed">8</text>
                    <text clip-path="url(#clipPath6381011)" x="55" y="15" width="147" height="12" text-anchor="start" class="match--player-name ">|__auito__|8</text>
                    <line x1="26" y1="-0.5" x2="226" y2="-0.5" class="match--player-divider"></line>
                </svg>
            </g>
        </g>


        </g>
    </g>
</svg>

<div id="ShowBox">

  Dar
  
</div>
<script>

  function showDruzyna(){
console.log("dar")
  }
  
  
</script>